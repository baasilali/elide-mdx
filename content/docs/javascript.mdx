---
title: "JavaScript Support"
description: "JavaScript runtime and APIs in Elide"
date: "2025-11-18"
---

import { Badge } from '@/components/ui/badge'
import { Alert } from '@/components/ui/alert'

# JavaScript Support

Elide provides full support for modern JavaScript with excellent compatibility and performance.

## Language Features

### ES2024+ Support

All modern JavaScript features are supported:

```javascript
// Optional chaining
const name = user?.profile?.name

// Nullish coalescing
const port = config.port ?? 3000

// Private fields
class User {
  #password
  constructor(password) {
    this.#password = password
  }
}

// Top-level await
const data = await fetch('/api/data')

// Array methods
const numbers = [1, 2, 3, 4, 5]
const doubled = numbers.map(n => n * 2)
const sum = numbers.reduce((a, b) => a + b, 0)
```

### Module System

Full ESM support with CommonJS compatibility:

```javascript
// ESM (recommended)
import { createServer } from '@elide/server'
export default createServer()

// CommonJS (supported)
const { createServer } = require('@elide/server')
module.exports = createServer()

// Dynamic imports
const module = await import('./dynamic-module.js')
```

## Standard APIs

### Console

```javascript
console.log('Hello, world!')
console.error('Error message')
console.warn('Warning')
console.info('Information')
console.debug('Debug info')

// Structured logging
console.table([
  { name: 'Alice', age: 30 },
  { name: 'Bob', age: 25 }
])

// Timing
console.time('operation')
// ... do something
console.timeEnd('operation')
```

### Timers

```javascript
// setTimeout
const id = setTimeout(() => {
  console.log('Delayed')
}, 1000)
clearTimeout(id)

// setInterval
const intervalId = setInterval(() => {
  console.log('Repeating')
}, 1000)
clearInterval(intervalId)

// setImmediate
setImmediate(() => {
  console.log('Next tick')
})
```

### Promises

```javascript
// Promise creation
const promise = new Promise((resolve, reject) => {
  setTimeout(() => resolve('Done'), 1000)
})

// Async/await
async function fetchData() {
  try {
    const response = await fetch('/api/data')
    const data = await response.json()
    return data
  } catch (error) {
    console.error('Error:', error)
    throw error
  }
}

// Promise combinators
const results = await Promise.all([
  fetch('/api/users'),
  fetch('/api/posts')
])

const fastest = await Promise.race([
  fetch('/api/server1'),
  fetch('/api/server2')
])
```

### Fetch API

Full Fetch API implementation:

```javascript
// GET request
const response = await fetch('https://api.example.com/data')
const data = await response.json()

// POST request
const response = await fetch('https://api.example.com/users', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    name: 'Alice',
    email: 'alice@example.com'
  })
})

// With error handling
try {
  const response = await fetch('/api/data')
  if (!response.ok) {
    throw new Error(`HTTP ${response.status}`)
  }
  const data = await response.json()
} catch (error) {
  console.error('Fetch failed:', error)
}
```

## Web APIs

### URL

```javascript
const url = new URL('https://example.com/path?key=value')
console.log(url.hostname)  // 'example.com'
console.log(url.pathname)  // '/path'
console.log(url.searchParams.get('key'))  // 'value'

// URLSearchParams
const params = new URLSearchParams({ key: 'value', foo: 'bar' })
console.log(params.toString())  // 'key=value&foo=bar'
```

### TextEncoder/TextDecoder

```javascript
// Encode text to bytes
const encoder = new TextEncoder()
const bytes = encoder.encode('Hello, world!')

// Decode bytes to text
const decoder = new TextDecoder()
const text = decoder.decode(bytes)
```

### Crypto

```javascript
// Generate random values
const array = new Uint8Array(16)
crypto.getRandomValues(array)

// Generate UUID
const uuid = crypto.randomUUID()

// Hash data
const data = new TextEncoder().encode('Hello')
const hash = await crypto.subtle.digest('SHA-256', data)
```

## Performance APIs

### Performance Timing

```javascript
// Mark points in time
performance.mark('start')
await doSomething()
performance.mark('end')

// Measure duration
performance.measure('operation', 'start', 'end')

// Get measurements
const measures = performance.getEntriesByType('measure')
console.log(measures[0].duration)
```

### Memory Usage

```javascript
// Get memory information
const memory = performance.memory
console.log(memory.usedJSHeapSize)
console.log(memory.jsHeapSizeLimit)
```

## Error Handling

### Standard Errors

```javascript
try {
  throw new Error('Something went wrong')
} catch (error) {
  console.error(error.message)
  console.error(error.stack)
}

// Custom errors
class ValidationError extends Error {
  constructor(message) {
    super(message)
    this.name = 'ValidationError'
  }
}

throw new ValidationError('Invalid input')
```

### Async Error Handling

```javascript
// With async/await
try {
  await riskyOperation()
} catch (error) {
  console.error('Operation failed:', error)
}

// With promises
riskyOperation()
  .catch(error => console.error(error))

// Unhandled rejection handler
process.on('unhandledRejection', (reason, promise) => {
  console.error('Unhandled rejection:', reason)
})
```

## Advanced Features

### Weak References

```javascript
const cache = new Map()

function addToCache(key, value) {
  const ref = new WeakRef(value)
  cache.set(key, ref)
}

function getFromCache(key) {
  const ref = cache.get(key)
  return ref?.deref()
}
```

### Proxies

```javascript
const handler = {
  get(target, prop) {
    console.log(`Accessing ${prop}`)
    return target[prop]
  },
  set(target, prop, value) {
    console.log(`Setting ${prop} to ${value}`)
    target[prop] = value
    return true
  }
}

const obj = new Proxy({}, handler)
obj.name = 'Alice'  // Logs: Setting name to Alice
console.log(obj.name)  // Logs: Accessing name
```

### Symbols

```javascript
// Unique identifiers
const id = Symbol('id')
const obj = { [id]: 123 }

// Well-known symbols
class MyArray {
  [Symbol.iterator]() {
    // Custom iteration
  }
}
```

## Node.js Compatibility

Elide provides compatibility with common Node.js APIs:

```javascript
import * as fs from 'node:fs'
import * as path from 'node:path'
import * as process from 'node:process'

// File operations
const data = fs.readFileSync('file.txt', 'utf8')

// Path operations
const fullPath = path.join(__dirname, 'file.txt')

// Process info
console.log(process.env.NODE_ENV)
console.log(process.cwd())
```

<Alert>
  <strong>Note:</strong> Use 'node:' prefix for Node.js built-in modules
</Alert>

## Next Steps

- [TypeScript](/docs/typescript) - TypeScript features
- [Python](/docs/python) - Python integration
- [API Reference](/docs/api-core) - Core APIs

